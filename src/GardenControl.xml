<?xml version="1.0" encoding="utf-8" ?>
<KNX xmlns:op="http://github.com/OpenKNX/OpenKNXproducer" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" CreatedBy="KNX MT" ToolVersion="5.1.255.16695" xmlns="http://knx.org/xml/project/14">
  <ManufacturerData>
    <Manufacturer RefId="M-00FA">
      <Catalog>
        <CatalogSection Id="M-00FA_CS-OpenKNX" Name="OpenKNX" Number="OpenKNX" DefaultLanguage="de">
          <CatalogItem Id="M-00FA_H-%SerialNumberEncoded%-%HardwareVersionEncoded%_HP-0001-01-0000_CI-%OrderNumberEncoded%-1" Name="OpenKNX: GardenControl" Number="1" ProductRefId="M-00FA_H-%SerialNumberEncoded%-%HardwareVersionEncoded%_P-%OrderNumberEncoded%" Hardware2ProgramRefId="M-00FA_H-%SerialNumberEncoded%-%HardwareVersionEncoded%_HP-0001-01-0000" DefaultLanguage="de" />
        </CatalogSection>
      </Catalog>
      <ApplicationPrograms>
        <!-- Each increase of AppliationVersion FORCES the Enduser to update according firmware, too -->
        <!-- If you just want to have a BUGFIX-Update of the ETS-Appliation (without firmware), increase ApplicationVersion AND ApplicationRevision simultaneously -->
        <!-- To sync ETS-Application and firmware again, increase ApplicationVersion AND set ApplicationRevision to 0 -->
        <op:version OpenKnxId="0xA2" ApplicationNumber="16" ApplicationVersion="1" ReplacesVersions="0" ApplicationRevision="0" />
        <ApplicationProgram Id="M-00FA_A-0001-01-0000" ProgramType="ApplicationProgram" MaskVersion="MV-07B0" Name="KNX-GardenControl" LoadProcedureStyle="MergedProcedure" PeiType="0" DefaultLanguage="de" DynamicTableManagement="false" Linkable="true" MinEtsVersion="4.0" ApplicationNumber="0" ApplicationVersion="0" ReplacesVersions="0">
          <Static>
            <Code>
              <RelativeSegment Id="M-00FA_A-0001-01-0000_RS-04-00000" Name="Parameters" Offset="0" Size="%MemorySize%" LoadStateMachine="4" />
            </Code>
            <op:define prefix="LOG" header="GardenControl.h" NumChannels="10" KoOffset="420" ModuleType="1" />  <!-- LOG muss immer ModuleType 1 sein --> 
            <op:define prefix="BEM" header="GardenControl.h" NumChannels="12" KoOffset="30"  ModuleType="2" />  <!-- KoOffset = 30 -> 20 default from Logik + 10 for default of Gardencontrol -->
            <op:define prefix="REL" header="GardenControl.h" NumChannels="3"  KoOffset="66"  ModuleType="3" />  <!-- KoOffset = 66 -> 30 + BEM (12ch*3kO) 36 --> 
            <op:define prefix="ADC" header="GardenControl.h" NumChannels="3"  KoOffset="75"  ModuleType="4" />  <!-- KoOffset = 75 -> 66 + REL (3ch*3kO) 9 --> 
            <op:define prefix="CUR" header="GardenControl.h" NumChannels="2"  KoOffset="81"  ModuleType="5" />  <!-- KoOffset = 81 -> 75 + ADC (3ch*1kO) 6 --> 
            <ParameterTypes>
              <!-- Parameter Offset Table 
              000 - 049  Reserve LOG
              050 - 069  BEM Share (20 Bytes)
              070 - 189  BEM templ (12 * 10Bytes)
              190 - 209  REL Share (20 Bytes)
              210 - 239  REL templ (3 * 10Bytes)
              240 - 249  ADC Share (20 Bytes) 
              250 - 309  ADC templ (3 * 20Bytes)      
              310 - 329  CUR Share (20 Bytes) 
              330 - 369  CUR templ (2 * 20Bytes)        
              
              -->
              <op:include href="../../OAM-LogicModule/src/Logikmodul.share.xml" xpath="//ParameterTypes/ParameterType" prefix="LOG" />
              <op:include href="GardenControl.share.xml" xpath="//ParameterTypes/ParameterType" prefix="BEM" />
              <op:include href="GardenControlRelais.share.xml" xpath="//ParameterTypes/ParameterType" prefix="REL" />
              <op:include href="InputADC.share.xml" xpath="//ParameterTypes/ParameterType" prefix="ADC" />
              <op:include href="Input_4_20mA.share.xml" xpath="//ParameterTypes/ParameterType" prefix="CUR" />
            </ParameterTypes>
            <Parameters>
              <op:include href="../../OAM-LogicModule/src/Logikmodul.share.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="parameter" prefix="LOG" />
              <op:include href="GardenControl.share.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="parameter" prefix="BEM" />
              <op:include href="GardenControlRelais.share.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="parameter" prefix="REL" />
              <op:include href="InputADC.share.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="parameter" prefix="ADC" />
              <op:include href="Input_4_20mA.share.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="parameter" prefix="CUR" />
              <op:include href="../../OAM-LogicModule/src/Logikmodul.templ.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="template" prefix="LOG" />
              <op:include href="GardenControl.templ.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="template" prefix="BEM" />
              <op:include href="GardenControlRelais.templ.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="template" prefix="REL" />
              <op:include href="InputADC.templ.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="template" prefix="ADC" />
              <op:include href="Input_4_20mA.templ.xml" xpath="//Parameters/Parameter|//Parameters/Union" type="template" prefix="CUR" />
            </Parameters>
            <ParameterRefs>
              <op:include href="../../OAM-LogicModule/src/Logikmodul.share.xml" xpath="//ParameterRefs/ParameterRef" prefix="LOG" />
              <op:include href="GardenControl.share.xml" xpath="//ParameterRefs/ParameterRef" prefix="BEM" />
              <op:include href="GardenControlRelais.share.xml" xpath="//ParameterRefs/ParameterRef" prefix="REL" />
              <op:include href="InputADC.share.xml" xpath="//ParameterRefs/ParameterRef" prefix="ADC" />
              <op:include href="Input_4_20mA.share.xml" xpath="//ParameterRefs/ParameterRef" prefix="CUR" />
              <op:include href="../../OAM-LogicModule/src/Logikmodul.templ.xml" xpath="//ParameterRefs/ParameterRef" type="template" prefix="LOG" />
              <op:include href="GardenControl.templ.xml" xpath="//ParameterRefs/ParameterRef" type="template" prefix="BEM" />
              <op:include href="GardenControlRelais.templ.xml" xpath="//ParameterRefs/ParameterRef" type="template" prefix="REL" />
              <op:include href="InputADC.templ.xml" xpath="//ParameterRefs/ParameterRef" type="template" prefix="ADC" />
              <op:include href="Input_4_20mA.templ.xml" xpath="//ParameterRefs/ParameterRef" type="template" prefix="CUR" />
            </ParameterRefs>
            <ComObjectTable>
              <op:include href="../../OAM-LogicModule/src/Logikmodul.share.xml" xpath="//ComObjectTable/ComObject" prefix="LOG" />
              <op:include href="GardenControl.share.xml" xpath="//ComObjectTable/ComObject" prefix="BEM" />
              <op:include href="GardenControlRelais.share.xml" xpath="//ComObjectTable/ComObject" prefix="REL" />
              <op:include href="InputADC.share.xml" xpath="//ComObjectTable/ComObject" prefix="ADC" />
              <op:include href="Input_4_20mA.share.xml" xpath="//ComObjectTable/ComObject" prefix="CUR" />
              <op:include href="../../OAM-LogicModule/src/Logikmodul.templ.xml" xpath="//ComObjectTable/ComObject" type="template" prefix="LOG" />
              <op:include href="GardenControl.templ.xml" xpath="//ComObjectTable/ComObject" type="template" prefix="BEM" />
              <op:include href="GardenControlRelais.templ.xml" xpath="//ComObjectTable/ComObject" type="template" prefix="REL" />
              <op:include href="InputADC.templ.xml" xpath="//ComObjectTable/ComObject" type="template" prefix="ADC" />
              <op:include href="Input_4_20mA.templ.xml" xpath="//ComObjectTable/ComObject" type="template" prefix="CUR" />
            </ComObjectTable>
            <ComObjectRefs>
              <op:include href="../../OAM-LogicModule/src/Logikmodul.share.xml" xpath="//ComObjectRefs/ComObjectRef" prefix="LOG" />
              <op:include href="GardenControl.share.xml" xpath="//ComObjectRefs/ComObjectRef" prefix="BEM" />
              <op:include href="GardenControlRelais.share.xml" xpath="//ComObjectRefs/ComObjectRef" prefix="REL" />
              <op:include href="InputADC.share.xml" xpath="//ComObjectRefs/ComObjectRef" prefix="ADC" />
              <op:include href="Input_4_20mA.share.xml" xpath="//ComObjectRefs/ComObjectRef" prefix="CUR" />
              <op:include href="../../OAM-LogicModule/src/Logikmodul.templ.xml" xpath="//ComObjectRefs/ComObjectRef" type="template" prefix="LOG" />
              <op:include href="GardenControl.templ.xml" xpath="//ComObjectRefs/ComObjectRef" type="template" prefix="BEM" />
              <op:include href="GardenControlRelais.templ.xml" xpath="//ComObjectRefs/ComObjectRef" type="template" prefix="REL" />
              <op:include href="InputADC.templ.xml" xpath="//ComObjectRefs/ComObjectRef" type="template" prefix="ADC" />
              <op:include href="Input_4_20mA.templ.xml" xpath="//ComObjectRefs/ComObjectRef" type="template" prefix="CUR" />
            </ComObjectRefs>
            <AddressTable MaxEntries="2047" />
            <AssociationTable MaxEntries="2047" />
            <Messages>
              <Message Id="M-00FA_A-0001-01-0000_M-1" Name="VersionMismatch" Text="Diese Applikaiton benötigt die Firmware-Version %VersionMessage%, siehe Geräteinfo." />
            </Messages>
            <LoadProcedures>
              <LoadProcedure MergeId="1">
                <LdCtrlCompareProp InlineData="%VersionCheck%" ObjIdx="0" PropId="78">
                  <OnError Cause="CompareMismatch" MessageRef="M-00FA_A-0001-01-0000_M-1" />
                </LdCtrlCompareProp>
              </LoadProcedure>
              <LoadProcedure MergeId="2">
                <LdCtrlRelSegment LsmIdx="4" Size="%MemorySize%" Mode="1" Fill="0" AppliesTo="full" />
                <LdCtrlRelSegment LsmIdx="4" Size="%MemorySize%" Mode="0" Fill="0" AppliesTo="par" />
              </LoadProcedure>
              <LoadProcedure MergeId="4">
                <LdCtrlWriteRelMem ObjIdx="4" Offset="0" Size="%MemorySize%" Verify="true" AppliesTo="full,par" />
              </LoadProcedure>
              <LoadProcedure MergeId="7">
                <LdCtrlLoadImageProp ObjIdx="1" PropId="27" />
                <LdCtrlLoadImageProp ObjIdx="2" PropId="27" />
                <LdCtrlLoadImageProp ObjIdx="3" PropId="27" />
                <LdCtrlLoadImageProp ObjIdx="4" PropId="27" />
              </LoadProcedure>
            </LoadProcedures>
            <Options />
          </Static>
          <!-- Here statrs the UI definition -->
          <Dynamic>
            <ChannelIndependentBlock>
              <!-- ChannelIndependentBlock is a composition of different parts of different modules -->
              <ParameterBlock Id="M-00FA_A-0001-01-0000_PB-1" Name="Doku" Text="Dokumenation">
                <op:include href="GardenControl.parts.xml" xpath="//Dynamic/ChannelIndependentBlock/ParameterBlock[@Name='Docu']/*" prefix="BEM" />
              </ParameterBlock>
              <ParameterBlock Id="M-00FA_A-0001-01-0000_PB-2" Name="General" Text="Allgemeine Parameter">
                <op:include href="../../OAM-LogicModule/src/Logikmodul.parts.xml" xpath="//Dynamic/ChannelIndependentBlock/ParameterBlock[@Name='General']/*" prefix="LOG" />
                <op:include href="GardenControl.parts.xml" xpath="//Dynamic/ChannelIndependentBlock/ParameterBlock[@Name='General']/*" prefix="BEM" />
                <op:include href="../../OAM-LogicModule/src/Logikmodul.parts.xml" xpath="//Dynamic/ChannelIndependentBlock/ParameterBlock[@Name='Diagnose']/*" prefix="LOG" />
              </ParameterBlock>
            </ChannelIndependentBlock>
            <!-- Erster Enocean Kanal -->
            <Channel Id="M-00FA_A-0001-01-0000_CH-1" Name="Standard" Number="1" Text="Magnetventile">
              <op:include href="GardenControl.templ.xml" xpath="//Dynamic/*" type="template" prefix="BEM" />
            </Channel>
            <Channel Id="M-00FA_A-0001-01-0000_CH-2" Name="Standard" Number="2" Text="Relais">
              <op:include href="GardenControlRelais.templ.xml" xpath="//Dynamic/*" type="template" prefix="BEM" />
            </Channel>
            <Channel Id="M-00FA_A-0001-01-0000_CH-3" Name="Standard" Number="3" Text="ADCs">
              <op:include href="InputADC.templ.xml" xpath="//Dynamic/*" type="template" prefix="ADC" />
            </Channel>
            <Channel Id="M-00FA_A-0001-01-0000_CH-4" Name="Standard" Number="4" Text="4-20mA">
              <op:include href="Input_4_20mA.templ.xml" xpath="//Dynamic/*" type="template" prefix="CUR" />
            </Channel>
            <Channel Id="M-00FA_A-0001-01-0000_CH-5" Name="Logik" Number="5" Text="Logikkanäle">
              <!-- Logic channel independent settings -->
              <op:include href="../../OAM-LogicModule/src/Logikmodul.share.xml" xpath="//Dynamic/Channel/*" prefix="LOG" />
              <!-- Logic channel settings -->
              <op:include href="../../OAM-LogicModule/src/Logikmodul.templ.xml" xpath="//Dynamic/*" type="template" prefix="LOG" />
            </Channel>
          </Dynamic>
        </ApplicationProgram>
      </ApplicationPrograms>
      <Hardware>
        <Hardware Id="M-00FA_H-%SerialNumberEncoded%-%HardwareVersionEncoded%" Name="GardenControl" SerialNumber="GardenControlV1" VersionNumber="1" BusCurrent="10" HasIndividualAddress="true" HasApplicationProgram="true">
          <Products>
            <Product Id="M-00FA_H-%SerialNumberEncoded%-%HardwareVersionEncoded%_P-%OrderNumberEncoded%" Text="GardenControl" OrderNumber="MFKnxBem" IsRailMounted="false" DefaultLanguage="de">
              <RegistrationInfo RegistrationStatus="Registered" />
            </Product>
          </Products>
          <Hardware2Programs>
            <Hardware2Program Id="M-00FA_H-%SerialNumberEncoded%-%HardwareVersionEncoded%_HP-0001-01-0000" MediumTypes="MT-0">
              <ApplicationProgramRef RefId="M-00FA_A-0001-01-0000" />
              <RegistrationInfo RegistrationStatus="Registered" RegistrationNumber="0001/11" />
            </Hardware2Program>
          </Hardware2Programs>
        </Hardware>
      </Hardware>
    </Manufacturer>
  </ManufacturerData>
</KNX>